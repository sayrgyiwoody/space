<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <!-- google font api  -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@100;300;400;500;600;700;800;900&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400&family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Prompt:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />

    <!-- link to guest css  -->
    <link rel="stylesheet" href="../asset/css/guest.css">

    <!-- bootstrap icon cdn  -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- bootstrap css cdn -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- scroll reveal cdn  -->
    <script src="https://unpkg.com/scrollreveal"></script>

    <link rel="stylesheet" href="../asset/css/detail.css">

    <link rel="stylesheet" href="../asset/css/home.css">
</head>

<body>

    <nav class="navbar">
        <div class="container-fluid px-4">
            <a class="navbar-brand me-0" href="#">
                <img src="../asset/images/logo.png" alt="Logo" width="60" height="44"
                    class="d-inline-block align-text-top">
                <span>SPACE</span>
            </a>
            <button id="btn-show-create" onclick="showCreate()" class="btn btn-light fw-semibold d-md-none">
                Create
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M18 20v-3h-3v-2h3v-3h2v3h3v2h-3v3h-2ZM3 21q-.825 0-1.413-.588T1 19V5q0-.825.588-1.413T3 3h14q.825 0 1.413.588T19 5v5h-2V8H3v11h13v2H3Z"/></svg>
            </button>
            <div class="btn-auth-div">
                <!-- login or logout btn here  -->
            </div>
        </div>
    </nav>

    <div class="container-fluid p-0 ">
        <div class="row m-0">
            <div  class="posts-container pt-3">
                <div class="row justify-content-center px-1 px-md-3 ">
                    <div class="col-md-4 me-md-4 mb-3 mb-md-0 post-create-container d-none d-md-block">
                        <div  class="form-control create-form position-relative">
                            <div class="create-title mb-3">
                                <img class="bg-dark-2 rounded" width="60" src="../asset/images/logo.png" alt="">
                                <span>Publish your thoughts</span>
                            </div>
                            <hr>
                            <div class="mb-3">
                                <label for="" class="form-label">Post Title</label>
                                <input id="titleInput" type="text" class="form-control">
                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Image Url</label>
                                <input id="imageInput" type="text" class="form-control">
                            </div>
                            <!-- <div class="mb-3">
                                <label for="" class="form-label">Image</label>
                                <input type="file" name="" id="" class="form-control">
                            </div> -->
                            <div class="mb-3">
                                <label for="" class="form-label">Content</label>
                                <textarea name="" id="contentInput" cols="30" rows="6" class="form-control"></textarea>
                            </div>
                            <button class="btn-publish">Publish
                                <svg class="ms-2" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                                  <path
                                    d="M12.2533 8.46667C9.53332 11.52 7.66666 15.9067 7.49332 16.32L2.66666 14.2533L8.06666 8.85333C8.69332 8.22667 9.59999 7.94667 10.48 8.12L12.2533 8.46667ZM14.8933 22.6667C14.8933 22.6667 19.88 20.6 22.7467 17.7333C29.9467 10.5333 28.7467 4.90667 28.36 3.64C27.0933 3.24 21.4667 2.05333 14.2667 9.25333C11.4 12.12 9.33332 17.1067 9.33332 17.1067L14.8933 22.6667ZM23.5333 19.7467C20.48 22.4667 16.0933 24.3333 15.68 24.5067L17.7467 29.3333L23.1467 23.9333C23.7733 23.3067 24.0533 22.4 23.88 21.52L23.5333 19.7467ZM12 24C12 25.1067 11.5467 26.1067 10.8267 26.8267C9.25332 28.4 2.66666 29.3333 2.66666 29.3333C2.66666 29.3333 3.59999 22.7467 5.17332 21.1733C5.73172 20.612 6.44432 20.2293 7.22065 20.0738C7.99699 19.9182 8.80202 19.9969 9.53355 20.2998C10.2651 20.6027 10.8901 21.1162 11.3292 21.775C11.7684 22.4338 12.0019 23.2082 12 24ZM17.3333 12C17.3333 10.5333 18.5333 9.33333 20 9.33333C21.4667 9.33333 22.6667 10.5333 22.6667 12C22.6667 13.4667 21.4667 14.6667 20 14.6667C18.5333 14.6667 17.3333 13.4667 17.3333 12Z"
                                    fill="white" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div  class="col-md-4 z-1 overflow-scroll" style="height: 94vh;">
                        <div id="posts-container">

                        </div>
                    </div>
                    
                </div>
            </div>






        </div>



    </div>

    <!-- bootstrap js cdn  -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

    <!-- Initialize Swiper -->
    <script>

    </script>

    <script src="../asset/js/srollreveal.js"></script>
    <script src="../asset/js/home.js"></script>
    <script src="../asset/js/auth.js"></script>
    <script src="../asset/js/logout.js"></script>
    <script src="../asset/js/create.js"></script>
    <script src="../asset/js/middleware.js"></script>


    <script>
        const btnAuthDiv = document.querySelector(".btn-auth-div");

        const authToken = localStorage.getItem("authToken");

        //showing login or logout according to authToken in localStorage
        if(authToken){
            btnAuthDiv.innerHTML =`
            <button class="btn-auth" onclick="logout()">
                <div class="svg-wrapper-1">
                <div class="svg-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M13.34 8.17c-.93 0-1.69-.77-1.69-1.7a1.69 1.69 0 0 1 1.69-1.69c.94 0 1.7.76 1.7 1.69c0 .93-.76 1.7-1.7 1.7M10.3 19.93l-5.93-1.18l.34-1.7l4.15.85l1.35-6.86l-1.52.6v2.86H7v-3.96l4.4-1.87l.67-.08c.6 0 1.1.34 1.43.85l.86 1.35c.68 1.21 2.03 2.03 3.64 2.03v1.68c-1.86 0-3.56-.83-4.66-2.1l-.5 2.54l1.77 1.69V23h-1.69v-5.1l-1.78-1.69l-.84 3.72M21 23h-2V3H6v13.11l-2-.42V1h17v22M6 23H4v-3.22l2 .42V23Z"/></svg>
                </div>
                </div>
                <div class="text">Logout</div>
            </button>
            
            `;
        }else {
            btnAuthDiv.innerHTML =`
            <a href="./login.html" class="btn-auth">
            <div class="svg-wrapper-1">
            <div class="svg-wrapper">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><path fill="currentColor" d="M417.063 85.625c-35.503-.147-80.717 9.822-129.563 28.97a148.028 148.028 0 0 0-28.344-2.69c-25.04.045-50.414 6.454-73.656 19.907c-32.044 18.55-54.554 47.287-65.813 79.782c-80.284 64.16-123.395 133.9-100.718 173.28c23.35 40.55 109.384 36.656 208.593-4.218c1.7-.7 3.417-1.403 5.125-2.125c.622-.262 1.25-.514 1.875-.78c1.81-.765 3.62-1.554 5.437-2.344l1.563-.687c1.443-.633 2.895-1.29 4.343-1.94c19.712-8.812 39.79-19.016 59.844-30.624a653.885 653.885 0 0 0 45.156-28.656c.394-.273.795-.54 1.188-.813c.672-.465 1.33-.94 2-1.406c100.373-70.007 158.15-152.83 132.625-197.155c-11.013-19.123-35.953-28.36-69.658-28.5zm-56.375 50c24.466-.44 42.61 5.846 50.437 19.438c8.373 14.54 3.594 35.145-11.22 57.937a149.447 149.447 0 0 0-12.092-26.813c-11.72-20.35-27.54-36.846-45.782-49.093c6.543-.87 12.788-1.364 18.658-1.47zM111.75 269.905c1.397 22.12 7.76 44.257 19.563 64.75a149.446 149.446 0 0 0 17.437 24.314c-27.663 1.7-48.293-4.418-56.78-19.158c-9.82-17.05-1.558-42.433 19.78-69.906zm291.22 27.658c-25.755 21.322-55.33 41.912-87.876 60.75c-31.97 18.504-63.966 33.663-94.75 45.28c36.843 10.142 77.578 6.073 113.28-14.593c35.833-20.74 59.75-54.215 69.345-91.438z"/></svg>
            </div>
            </div>
            <div class="text">Login</div>
        </a>
            `;
        }
    </script>
</body>

</html>